<features name="chanter-${project.version}" 
	xmlns="http://karaf.apache.org/xmlns/features/v1.4.0" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.4.0">

    <repository>mvn:org.apache.cxf.karaf/apache-cxf/3.3.4/xml/features</repository>
    <repository>mvn:org.apache.aries.jax.rs/org.apache.aries.jax.rs.features/1.0.6/xml</repository>
    <repository>mvn:org.apache.camel.karaf/apache-camel/${camel.version}/xml/features</repository>

    
    <feature name="chanter" version="${project.version}" description="Chanter Requirement Management System">
        <!--feature version="${project.version}">karaf-rest-example-common</feature-->
        <feature dependency="true">jsr</feature>
        <feature dependency="true">http-whiteboard</feature>
        <feature>aries-jax-rs-whiteboard</feature>
        <feature>aries-jax-rs-whiteboard-jackson</feature>
        <bundle dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jaxws-api-2.2/${servicemix-spec.version}</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.saaj-api-1.3/${servicemix-spec.version}</bundle>
        <bundle dependency="true">mvn:org.slf4j/slf4j-api/${slf4j.version}</bundle>
        <bundle dependency="true">mvn:org.slf4j/slf4j-reload4j/${slf4j.version}</bundle>
        
        <!--requirement>osgi.service;effective:=active;filter:=(objectClass=org.osgi.service.http.HttpService)</requirement-->
        
        <feature dependency="true">aries-blueprint</feature>
        <bundle>mvn:com.datsystems.chanter/api/${project.version}</bundle>
        <bundle>mvn:com.datsystems.chanter/data-model/${project.version}</bundle>
        <bundle>mvn:com.datsystems.chanter/back-end/${project.version}</bundle>
        <bundle>mvn:com.datsystems.chanter/svelte/${project.version}</bundle>
        
        <!-- importers
        <bundle>mvn:com.datsystems.chanter/csv-importer/${project.version}</bundle>
        <bundle>mvn:com.datsystems.chanter/pdf-importer/${project.version}</bundle>
        <bundle>mvn:com.datsystems.chanter/html-importer/${project.version}</bundle> -->
        
        <bundle dependency="true">mvn:org.mongodb/mongodb-driver-sync/${mongo-driver.version}</bundle>
        <bundle dependency="true">mvn:org.mongodb/bson/${mongo-driver.version}</bundle>
        <bundle dependency="true">mvn:org.mongodb/mongodb-driver-core/${mongo-driver.version}</bundle>
        <!--bundle>mvn:org.apache.karaf.examples/karaf-rest-example-blueprint/${project.version}</bundle-->
        
        <config name="chanter-backend">
            mongoUri=mongodb://localhost:27017/
            databaseName=chanter
        </config>
    </feature>

</features>